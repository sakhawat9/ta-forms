((D,v,b,T)=>{D(b).ready(function(){D(".ta-forms-admin").removeClass("ta-forms-preloader")});var e=D(".ta-forms-field-layout_preset .ta-forms-siblings .ta-forms--sibling"),O=("form"!==D(".ta-forms-field-layout_preset .ta-forms-siblings .ta-forms--sibling.ta-forms--active").find("input").val()?(D(".ta-forms-content .floating_chat .ta-forms-section_tab-nav a:nth-child(2)").hide(),D(".ta-forms-content .floating_chat .ta-forms-section_tab-nav a:nth-child(1)").trigger("click")):D(".ta-forms-content .floating_chat .ta-forms-section_tab-nav a:nth-child(2)").show(),D(e).on("change","input",function(e){"form"!==D(this).val()?(D(".ta-forms-content .floating_chat .ta-forms-section_tab-nav a:nth-child(2)").hide(),D(".ta-forms-content .floating_chat .ta-forms-section_tab-nav a:nth-child(1)").trigger("click")):D(".ta-forms-content .floating_chat .ta-forms-section_tab-nav a:nth-child(2)").show()}),{});O.funcs={},O.vars={onloaded:!1,$body:D("body"),$window:D(v),$document:D(b),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:D("body").hasClass("rtl")},O.helper={uid:function(e){return(e||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(e){return(e+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(e,t){var a=new RegExp(O.helper.preg_quote(t+"[\\d+]"),"g");e.find(":radio").each(function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)}),e.each(function(e){D(this).find(":input").each(function(){this.name=this.name.replace(a,t+"["+e+"]"),this.orginal_checked&&(this.checked=!0)})})},debounce:function(r,o,n){var i;return function(){var e=this,t=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||r.apply(e,t)},o),a&&r.apply(e,t)}}},D.fn.Ta_Forms_clone=function(){for(var e=D.fn.clone.apply(this,arguments),t=this.find("select").add(this.filter("select")),a=e.find("select").add(e.filter("select")),r=0;r<t.length;++r)for(var o=0;o<t[r].options.length;++o)!0===t[r].options[o].selected&&(a[r].options[o].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),e},D.fn.Ta_Forms_expand_all=function(){return this.each(function(){D(this).on("click",function(e){e.preventDefault(),D(".ta-forms-wrapper").toggleClass("ta-forms-show-all"),D(".ta-forms-section").Ta_Forms_reload_script(),D(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})},D.fn.Ta_Forms_nav_options=function(){return this.each(function(){var a,e=D(this),t=D(v),r=D("#wpwrap"),o=e.find("a");t.on("hashchange ta-forms.hashchange",function(){var e=v.location.hash.replace("#tab=",""),e=e||o.first().attr("href").replace("#tab=",""),t=D('[data-tab-id="'+e+'"]');t.length&&(t.closest(".ta-forms-tab-item").addClass("ta-forms-tab-expanded").siblings().removeClass("ta-forms-tab-expanded"),t.next().is("ul")&&(e=(t=t.next().find("li").first().find("a")).data("tab-id")),o.removeClass("ta-forms-active"),t.addClass("ta-forms-active"),a&&a.addClass("hidden"),(t=D('[data-section-id="'+e+'"]')).removeClass("hidden"),t.Ta_Forms_reload_script(),D(".ta-forms-section-id").val(t.index()+1),a=t,r.hasClass("wp-responsive-open"))&&(D("html, body").animate({scrollTop:t.offset().top-50},200),r.removeClass("wp-responsive-open"))}).trigger("ta-forms.hashchange")})},D.fn.Ta_Forms_nav_metabox=function(){return this.each(function(){var a,e=D(this),r=e.find("a"),o=e.parent().find(".ta-forms-section");r.each(function(t){D(this).on("click",function(e){e.preventDefault();e=D(this),r.removeClass("ta-forms-active"),e.addClass("ta-forms-active"),a!==T&&a.addClass("hidden"),e=o.eq(t);e.removeClass("hidden"),e.Ta_Forms_reload_script(),a=e})}),r.first().trigger("click")})},D.fn.Ta_Forms_page_templates=function(){this.length&&D(b).on("change",".editor-page-attributes__template select, #page_template, .edit-post-post-status + div select",function(){var e=D(this).val()||"default";D(".ta-forms-page-templates").removeClass("ta-forms-metabox-show").addClass("ta-forms-metabox-hide"),D(".ta-forms-page-"+e.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("ta-forms-metabox-hide").addClass("ta-forms-metabox-show")})},D.fn.Ta_Forms_post_formats=function(){this.length&&D(b).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var e="0"===(e=D(this).val()||"default")?"default":e;D(".ta-forms-post-formats").removeClass("ta-forms-metabox-show").addClass("ta-forms-metabox-hide"),D(".ta-forms-post-format-"+e).removeClass("ta-forms-metabox-hide").addClass("ta-forms-metabox-show")})},D.fn.Ta_Forms_search=function(){return this.each(function(){D(this).find("input").on("change keyup",function(){var t=D(this).val(),e=D(".ta-forms-wrapper"),a=e.find(".ta-forms-section").find("> .ta-forms-field:not(.ta-forms-depend-on)"),r=a.find("> .ta-forms-title, .ta-forms-search-tags");3<t.length?(a.addClass("ta-forms-metabox-hide"),e.addClass("ta-forms-search-all"),r.each(function(){var e=D(this);e.text().match(new RegExp(".*?"+t+".*?","i"))&&((e=e.closest(".ta-forms-field")).removeClass("ta-forms-metabox-hide"),e.parent().Ta_Forms_reload_script())})):(a.removeClass("ta-forms-metabox-hide"),e.removeClass("ta-forms-search-all"))})})},D.fn.Ta_Forms_sticky=function(){return this.each(function(){function e(){s=r.scrollTop(),d()}var a=D(this),r=D(v),o=a.find(".ta-forms-header-inner"),n=parseInt(o.css("padding-left"))+parseInt(o.css("padding-right")),i=32,s=0,t=!1,l=function(){var e=a.offset().top,e=Math.max(i,e-s),t=r.innerWidth();e<=i&&782<t?(o.css({width:a.outerWidth()-n}),a.css({height:a.outerHeight()}).addClass("ta-forms-sticky")):(o.removeAttr("style"),a.removeAttr("style").removeClass("ta-forms-sticky"))},d=function(){t||requestAnimationFrame(function(){l(),t=!1}),t=!0};r.on("scroll resize",e),e()})},D.fn.Ta_Forms_dependency=function(){return this.each(function(){var t,a,l,d,e=D(this),r=e.children("[data-controller]");r.length&&(t=D.Ta_Forms_deps.createRuleset(),a=D.Ta_Forms_deps.createRuleset(),l=[],d=[],r.each(function(){var r=D(this),e=r.data("controller").split("|"),o=r.data("condition").split("|"),n=r.data("value").toString().split("|"),i=!!r.data("depend-global"),s=i?a:t;D.each(e,function(e,t){var a=n[e]||"",e=o[e]||o[0];(s=s.createRule('[data-depend-id="'+t+'"]',e,a)).include(r),(i?d:l).push(t)})}),l.length&&D.Ta_Forms_deps.enable(e,t,l),d.length)&&D.Ta_Forms_deps.enable(O.vars.$body,a,d)})},D.fn.Ta_Forms_field_accordion=function(){return this.each(function(){D(this).find(".ta-forms-accordion-title").on("click",function(){var e=D(this),t=e.find(".ta-forms-accordion-icon"),e=e.next();t.hasClass("fa-angle-right")?t.removeClass("fa-angle-right").addClass("fa-angle-down"):t.removeClass("fa-angle-down").addClass("fa-angle-right"),e.data("opened")||(e.Ta_Forms_reload_script(),e.data("opened",!0)),e.toggleClass("ta-forms-accordion-open")})})},D.fn.Ta_Forms_field_backup=function(){return this.each(function(){var t,a,r,o;v.wp.customize!==T&&(a=D(t=this),D("body"),r=a.find(".ta-forms-import"),o=a.find(".ta-forms-reset"),t.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each(function(e){e._dirty=!1}),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("Ta_Forms_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},o.on("click",function(e){e.preventDefault(),O.vars.is_confirm&&(t.notificationOverlay(),v.wp.ajax.post("ta-forms-reset",{unique:o.data("unique"),nonce:o.data("nonce")}).done(function(e){v.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("Ta_Forms_field_backup_notification")}))}),r.on("click",function(e){e.preventDefault(),O.vars.is_confirm&&(t.notificationOverlay(),v.wp.ajax.post("ta-forms-import",{unique:r.data("unique"),nonce:r.data("nonce"),data:a.find(".ta-forms-import-data").val()}).done(function(e){v.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("Ta_Forms_field_backup_notification")}))}))})},D.fn.Ta_Forms_field_background=function(){return this.each(function(){D(this).find(".ta-forms--background-image").Ta_Forms_reload_script()})},D.fn.Ta_Forms_field_code_editor=function(){return this.each(function(){var t,r,e,o,n;"function"==typeof CodeMirror&&(t=D(this),r=t.find("textarea"),e=t.find(".CodeMirror"),o=r.data("editor"),e.length&&e.remove(),n=setInterval(function(){var a,e;t.is(":visible")&&(a=CodeMirror.fromTextArea(r[0],o),"default"!==o.theme&&-1===O.vars.code_themes.indexOf(o.theme)&&(e=D("<link>"),D("#ta-forms-codemirror-css").after(e),e.attr({rel:"stylesheet",id:"ta-forms-codemirror-"+o.theme+"-css",href:o.cdnURL+"/theme/"+o.theme+".min.css",type:"text/css",media:"all"}),O.vars.code_themes.push(o.theme)),CodeMirror.modeURL=o.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(a,o.mode),a.on("change",function(e,t){r.val(a.getValue()).trigger("change")}),clearInterval(n))}))})},D.fn.Ta_Forms_field_date=function(){return this.each(function(){var e=D(this),a=e.find("input"),r=e.find(".ta-forms-date-settings").data("settings"),r=D.extend({},r,{showAnim:"",beforeShow:function(e,t){D(t.dpDiv).addClass("ta-forms-datepicker-wrapper")},onClose:function(e,t){D(t.dpDiv).removeClass("ta-forms-datepicker-wrapper")}});2===a.length&&(r=D.extend({},r,{onSelect:function(e){D(this),a.first();var t=a.first().attr("id")===D(this).attr("id")?"minDate":"maxDate",e=D.datepicker.parseDate(r.dateFormat,e);a.not(this).datepicker("option",t,e)}})),a.each(function(){var e=D(this);e.hasClass("hasDatepicker")&&e.removeAttr("id").removeClass("hasDatepicker"),e.datepicker(r)})})},D.fn.Ta_Forms_field_datetime=function(){return this.each(function(){var e=D(this),r=e.find("input"),t=e.find(".ta-forms-datetime-settings").data("settings"),t=D.extend({},t,{onReady:function(e,t,a){D(a.calendarContainer).addClass("ta-forms-flatpickr")}});2===r.length&&(t=D.extend({},t,{onChange:function(e,t,a){"from"===D(a.element).data("type")?r.last().get(0)._flatpickr.set("minDate",e[0]):r.first().get(0)._flatpickr.set("maxDate",e[0])}})),r.each(function(){D(this).flatpickr(t)})})},D.fn.Ta_Forms_field_fieldset=function(){return this.each(function(){D(this).find(".ta-forms-fieldset-content").Ta_Forms_reload_script()})},D.fn.Ta_Forms_field_gallery=function(){return this.each(function(){var o,e=D(this),n=e.find(".ta-forms-edit-gallery"),i=e.find(".ta-forms-clear-gallery"),s=e.find("ul"),l=e.find("input");e.find("img");e.on("click",".ta-forms-button, .ta-forms-edit-gallery",function(e){var t=D(this),a=l.val(),t=t.hasClass("ta-forms-edit-gallery")?"edit":"add",r="add"!=t||a.length?"gallery-edit":"gallery";e.preventDefault(),void 0!==v.wp&&v.wp.media&&v.wp.media.gallery&&("gallery"==r?(o=v.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(o=v.wp.media.gallery.edit('[gallery ids="'+a+'"]'),"add"==t&&o.setState("gallery-library")),o.on("update",function(e){s.empty();e=e.models.map(function(e){var e=e.toJSON(),t=(e.sizes&&e.sizes.thumbnail&&e.sizes.thumbnail.url?e.sizes.thumbnail:e).url;return s.append('<li><img src="'+t+'"></li>'),e.id});l.val(e.join(",")).trigger("change"),i.removeClass("hidden"),n.removeClass("hidden")}))}),i.on("click",function(e){e.preventDefault(),s.empty(),l.val("").trigger("change"),i.addClass("hidden"),n.addClass("hidden")})})},D.fn.Ta_Forms_field_group=function(){return this.each(function(){function e(e){e.preventDefault();var t,a,r,o,e=n.children(".ta-forms-cloneable-item").length;s.hide(),m&&m<e+1?i.show():(t=(e=D(this).parent().parent()).children(".ta-forms-cloneable-helper").Ta_Forms_clone(!0),a=e.children(".ta-forms-cloneable-title").Ta_Forms_clone(),r=e.children(".ta-forms-cloneable-content").Ta_Forms_clone(),(o=D('<div class="ta-forms-cloneable-item" />')).append(t),o.append(a),o.append(r),n.children().eq(e.index()).after(o),O.helper.name_nested_replace(n.children(".ta-forms-cloneable-item"),c),n.accordion("refresh"),n.Ta_Forms_customizer_refresh(),n.Ta_Forms_customizer_listen({closest:!0}),f&&p(n))}function t(e){e.preventDefault(),e=n.children(".ta-forms-cloneable-item").length,i.hide(),s.hide(),h&&e-1<h?s.show():(D(this).closest(".ta-forms-cloneable-item").remove(),O.helper.name_nested_replace(n.children(".ta-forms-cloneable-item"),c),n.Ta_Forms_customizer_refresh(),f&&p(n))}var a=D(this),r=a.children(".ta-forms-fieldset"),r=r.length?r:a,n=r.children(".ta-forms-cloneable-wrapper"),o=r.children(".ta-forms-cloneable-hidden"),i=r.children(".ta-forms-cloneable-max"),s=r.children(".ta-forms-cloneable-min"),l=n.data("title-by"),d=n.data("title-by-prefix"),c=n.data("field-id"),f=Boolean(Number(n.data("title-number"))),m=parseInt(n.data("max")),h=parseInt(n.data("min")),p=(n.hasClass("ui-accordion")&&n.find(".ui-accordion-header-icon").remove(),function(e){e.find(".ta-forms-cloneable-title-number").each(function(e){D(this).html(D(this).closest(".ta-forms-cloneable-item").index()+1+".")})});n.accordion({header:"> .ta-forms-cloneable-item > .ta-forms-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"ta-forms-cloneable-header-icon icofont-simple-right",activeHeader:"ta-forms-cloneable-header-icon icofont-rounded-down"},activate:function(e,t){var r,o,a=t.newPanel,t=t.newHeader;a.length&&!a.data("opened")?(r=t.find(".ta-forms-cloneable-value"),o=[],D.each(l,function(e,t){o.push(a.find('[data-depend-id="'+t+'"]'))}),D.each(o,function(e,t){t.on("change keyup ta-forms.keyup",function(){var a=[];D.each(o,function(e,t){t=t.val();t&&a.push(t)}),a.length&&r.text(a.join(d))}).trigger("ta-forms.keyup")}),a.Ta_Forms_reload_script(),a.data("opened",!0),a.data("retry",!1)):a.data("retry")&&(a.Ta_Forms_reload_script_retry(),a.data("retry",!1))}}),n.sortable({axis:"y",handle:".ta-forms-cloneable-title,.ta-forms-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,t){n.accordion({active:!1}),n.sortable("refreshPositions"),t.item.children(".ta-forms-cloneable-content").data("retry",!0)},update:function(e,t){O.helper.name_nested_replace(n.children(".ta-forms-cloneable-item"),c),n.Ta_Forms_customizer_refresh(),f&&p(n)}}),r.children(".ta-forms-cloneable-add").on("click",function(e){e.preventDefault();var t=n.children(".ta-forms-cloneable-item").length;s.hide(),m&&m<t+1?i.show():((e=o.Ta_Forms_clone(!0)).removeClass("ta-forms-cloneable-hidden"),e.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(c+"[0]",c+"["+t+"]")}),n.append(e),n.accordion("refresh"),n.accordion({active:t}),n.Ta_Forms_customizer_refresh(),n.Ta_Forms_customizer_listen({closest:!0}),f&&p(n))}),n.children(".ta-forms-cloneable-item").children(".ta-forms-cloneable-helper").on("click",".ta-forms-cloneable-clone",e),r.children(".ta-forms-cloneable-hidden").children(".ta-forms-cloneable-helper").on("click",".ta-forms-cloneable-clone",e);n.children(".ta-forms-cloneable-item").children(".ta-forms-cloneable-helper").on("click",".ta-forms-cloneable-remove",t),r.children(".ta-forms-cloneable-hidden").children(".ta-forms-cloneable-helper").on("click",".ta-forms-cloneable-remove",t)})},D.fn.Ta_Forms_field_icon=function(){return this.each(function(){var a=D(this);a.on("click",".ta-forms-icon-add",function(e){e.preventDefault();var e=D(this),t=D("#ta-forms-modal-icon");t.removeClass("hidden"),O.vars.$icon_target=a,O.vars.icon_modal_loaded||(t.find(".ta-forms-modal-loading").show(),v.wp.ajax.post("ta-forms-get-icons",{nonce:e.data("nonce")}).done(function(e){t.find(".ta-forms-modal-loading").hide(),O.vars.icon_modal_loaded=!0;var a=t.find(".ta-forms-modal-load").html(e.content);a.on("click","i",function(e){e.preventDefault();e=D(this).attr("title");O.vars.$icon_target.find(".ta-forms-icon-preview i").removeAttr("class").addClass(e),O.vars.$icon_target.find(".ta-forms-icon-preview").removeClass("hidden"),O.vars.$icon_target.find(".ta-forms-icon-remove").removeClass("hidden"),O.vars.$icon_target.find("input").val(e).trigger("change"),t.addClass("hidden")}),t.on("change keyup",".ta-forms-icon-search",function(){var t=D(this).val();a.find("i").each(function(){var e=D(this);e.attr("title").search(new RegExp(t,"i"))<0?e.hide():e.show()})}),t.on("click",".ta-forms-modal-close, .ta-forms-modal-overlay",function(){t.addClass("hidden")})}).fail(function(e){t.find(".ta-forms-modal-loading").hide(),t.find(".ta-forms-modal-load").html(e.error),t.on("click",function(){t.addClass("hidden")})}))}),a.on("click",".ta-forms-icon-remove",function(e){e.preventDefault(),a.find(".ta-forms-icon-preview").addClass("hidden"),a.find("input").val("").trigger("change"),D(this).addClass("hidden")})})},D.fn.Ta_Forms_field_map=function(){return this.each(function(){var e,t,a,r,o,n,i,s,l,d,c;"undefined"!=typeof L&&(c=(e=D(this)).find(".ta-forms--map-osm"),t=e.find(".ta-forms--map-search input"),a=e.find(".ta-forms--latitude"),r=e.find(".ta-forms--longitude"),o=e.find(".ta-forms--zoom"),n=c.data("map"),i=L.map(c.get(0),n),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i),s=L.marker(n.center,{draggable:!0}).addTo(i),l=function(e){a.val(e.lat),r.val(e.lng),o.val(i.getZoom())},i.on("click",function(e){s.setLatLng(e.latlng),l(e.latlng)}),i.on("zoom",function(){l(s.getLatLng())}),s.on("drag",function(){l(s.getLatLng())}),t.length||(t=D('[data-depend-id="'+e.find(".ta-forms--address-field").data("address-field")+'"]')),d={},t.autocomplete({source:function(e,t){var a=e.term;a in d?t(d[a]):D.get("https://nominatim.openstreetmap.org/search",{format:"json",q:a},function(e){e=e.length?e.map(function(e){return{value:e.display_name,label:e.display_name,lat:e.lat,lon:e.lon}},"json"):[{value:"no-data",label:"No Results."}];d[a]=e,t(e)})},select:function(e,t){if("no-data"===t.item.value)return!1;t=L.latLng(t.item.lat,t.item.lon);i.panTo(t),s.setLatLng(t),l(t)},create:function(e,t){D(this).autocomplete("widget").addClass("ta-forms-map-ui-autocomplate")}}),a.on("change",c=function(){var e=L.latLng(a.val(),r.val());i.panTo(e),s.setLatLng(e)}),r.on("change",c))})},D.fn.Ta_Forms_field_link=function(){return this.each(function(){var r=D(this),e=r.find(".ta-forms--link"),o=r.find(".ta-forms--add"),n=r.find(".ta-forms--edit"),i=r.find(".ta-forms--remove"),s=r.find(".ta-forms--result"),t=O.helper.uid("ta-forms-wplink-textarea-");o.on("click",function(e){e.preventDefault(),v.wpLink.open(t)}),n.on("click",function(e){e.preventDefault(),o.trigger("click"),D("#wp-link-url").val(r.find(".ta-forms--url").val()),D("#wp-link-text").val(r.find(".ta-forms--text").val()),D("#wp-link-target").prop("checked","_blank"===r.find(".ta-forms--target").val())}),i.on("click",function(e){e.preventDefault(),r.find(".ta-forms--url").val("").trigger("change"),r.find(".ta-forms--text").val(""),r.find(".ta-forms--target").val(""),o.removeClass("hidden"),n.addClass("hidden"),i.addClass("hidden"),s.parent().addClass("hidden")}),e.attr("id",t).on("change",function(){var e=v.wpLink.getAttrs(),t=e.href,a=D("#wp-link-text").val(),e=e.target||"";r.find(".ta-forms--url").val(t).trigger("change"),r.find(".ta-forms--text").val(a),r.find(".ta-forms--target").val(e),s.html('{url:"'+t+'", text:"'+a+'", target:"'+e+'"}'),o.addClass("hidden"),n.removeClass("hidden"),i.removeClass("hidden"),s.parent().removeClass("hidden")})})},D.fn.Ta_Forms_field_media=function(){return this.each(function(){var a,r=D(this),o=r.find(".ta-forms--button"),n=r.find(".ta-forms--remove"),i=o.data("library")&&o.data("library").split(",")||"",s=!!r.hasClass("ta-forms-assign-field-background")&&r.closest(".ta-forms-field-background").find(".ta-forms--auto-attributes");o.on("click",function(e){e.preventDefault(),void 0!==v.wp&&v.wp.media&&v.wp.media.gallery&&(a||(a=v.wp.media({library:{type:i}})).on("select",function(){var e=a.state().get("selection").first().attributes,t=o.data("preview-size")||"thumbnail";i.length&&-1===i.indexOf(e.subtype)&&-1===i.indexOf(e.type)||(r.find(".ta-forms--id").val(e.id),r.find(".ta-forms--width").val(e.width),r.find(".ta-forms--height").val(e.height),r.find(".ta-forms--alt").val(e.alt),r.find(".ta-forms--title").val(e.title),r.find(".ta-forms--description").val(e.description),t=void 0!==e.sizes&&void 0!==e.sizes.thumbnail&&"thumbnail"===t?e.sizes.thumbnail.url:void 0!==e.sizes&&void 0!==e.sizes.full?e.sizes.full.url:"image"===e.type?e.url:e.icon,s&&s.removeClass("ta-forms--attributes-hidden"),n.removeClass("hidden"),r.find(".ta-forms--preview").removeClass("hidden"),r.find(".ta-forms--src").attr("src",t),r.find(".ta-forms--thumbnail").val(t),r.find(".ta-forms--url").val(e.url).trigger("change"))}),a.open())}),n.on("click",function(e){e.preventDefault(),s&&s.addClass("ta-forms--attributes-hidden"),n.addClass("hidden"),r.find("input").val(""),r.find(".ta-forms--preview").addClass("hidden"),r.find(".ta-forms--url").trigger("change")})})},D.fn.Ta_Forms_field_repeater=function(){return this.each(function(){function e(e){e.preventDefault();var t,a,r,e=o.children(".ta-forms-repeater-item").length;s.hide(),d&&d<e+1?i.show():(t=(e=D(this).parent().parent().parent()).children(".ta-forms-repeater-content").Ta_Forms_clone(),a=e.children(".ta-forms-repeater-helper").Ta_Forms_clone(!0),(r=D('<div class="ta-forms-repeater-item" />')).append(t),r.append(a),o.children().eq(e.index()).after(r),r.children(".ta-forms-repeater-content").Ta_Forms_reload_script(),O.helper.name_nested_replace(o.children(".ta-forms-repeater-item"),l),o.Ta_Forms_customizer_refresh(),o.Ta_Forms_customizer_listen({closest:!0}))}function t(e){e.preventDefault(),e=o.children(".ta-forms-repeater-item").length,i.hide(),s.hide(),c&&e-1<c?s.show():(D(this).closest(".ta-forms-repeater-item").remove(),O.helper.name_nested_replace(o.children(".ta-forms-repeater-item"),l),o.Ta_Forms_customizer_refresh())}var a=D(this),r=a.children(".ta-forms-fieldset"),r=r.length?r:a,o=r.children(".ta-forms-repeater-wrapper"),n=r.children(".ta-forms-repeater-hidden"),i=r.children(".ta-forms-repeater-max"),s=r.children(".ta-forms-repeater-min"),l=o.data("field-id"),d=parseInt(o.data("max")),c=parseInt(o.data("min"));o.children(".ta-forms-repeater-item").children(".ta-forms-repeater-content").Ta_Forms_reload_script(),o.sortable({axis:"y",handle:".ta-forms-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,t){O.helper.name_nested_replace(o.children(".ta-forms-repeater-item"),l),o.Ta_Forms_customizer_refresh(),t.item.Ta_Forms_reload_script_retry()}}),r.children(".ta-forms-repeater-add").on("click",function(e){e.preventDefault();var t=o.children(".ta-forms-repeater-item").length;s.hide(),d&&d<t+1?i.show():((e=n.Ta_Forms_clone(!0)).removeClass("ta-forms-repeater-hidden"),e.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(l+"[0]",l+"["+t+"]")}),o.append(e),e.children(".ta-forms-repeater-content").Ta_Forms_reload_script(),o.Ta_Forms_customizer_refresh(),o.Ta_Forms_customizer_listen({closest:!0}))}),o.children(".ta-forms-repeater-item").children(".ta-forms-repeater-helper").on("click",".ta-forms-repeater-clone",e),r.children(".ta-forms-repeater-hidden").children(".ta-forms-repeater-helper").on("click",".ta-forms-repeater-clone",e);o.children(".ta-forms-repeater-item").children(".ta-forms-repeater-helper").on("click",".ta-forms-repeater-remove",t),r.children(".ta-forms-repeater-hidden").children(".ta-forms-repeater-helper").on("click",".ta-forms-repeater-remove",t)})},D.fn.Ta_Forms_field_slider=function(){return this.each(function(){var e=D(this),a=e.find("input"),t=e.find(".ta-forms-slider-ui"),e=a.data(),r=a.val()||0;t.hasClass("ui-slider")&&t.empty(),t.slider({range:"min",value:r,min:e.min||0,max:e.max||100,step:e.step||1,slide:function(e,t){a.val(t.value).trigger("change")}}),a.on("keyup",function(){t.slider("value",a.val())})})},D.fn.Ta_Forms_field_sortable=function(){return this.each(function(){var a=D(this).find(".ta-forms-sortable");a.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,t){a.Ta_Forms_customizer_refresh()}}),a.find(".ta-forms-sortable-content").Ta_Forms_reload_script()})},D.fn.Ta_Forms_field_sorter=function(){return this.each(function(){var r=D(this),e=r.find(".ta-forms-enabled"),t=r.find(".ta-forms-disabled"),t=!!t.length&&t;e.sortable({connectWith:t,placeholder:"ui-sortable-placeholder",update:function(e,t){var a=t.item.find("input");t.item.parent().hasClass("ta-forms-enabled")?a.attr("name",a.attr("name").replace("disabled","enabled")):a.attr("name",a.attr("name").replace("enabled","disabled")),r.Ta_Forms_customizer_refresh()}}),t&&t.sortable({connectWith:e,placeholder:"ui-sortable-placeholder",update:function(e,t){r.Ta_Forms_customizer_refresh()}})})},D.fn.Ta_Forms_field_spinner=function(){return this.each(function(){var e=D(this),a=e.find("input"),e=e.find(".ui-button"),r=a.data();e.length&&e.remove(),a.spinner({min:r.min||0,max:r.max||100,step:r.step||1,create:function(e,t){r.unit&&a.after('<span class="ui-button ta-forms--unit">'+r.unit+"</span>")},spin:function(e,t){a.val(t.value).trigger("change")}})})},D.fn.Ta_Forms_field_switcher=function(){return this.each(function(){var a=D(this).find(".ta-forms--switcher");a.on("click",function(){var e=0,t=a.find("input");a.hasClass("ta-forms--active")?a.removeClass("ta-forms--active"):(e=1,a.addClass("ta-forms--active")),t.val(e).trigger("change")})})},D.fn.Ta_Forms_field_tabbed=function(){return this.each(function(){var e=D(this),t=e.find(".ta-forms-tabbed-nav a"),a=e.find(".ta-forms-tabbed-content");a.eq(0).Ta_Forms_reload_script(),t.on("click",function(e){e.preventDefault();var e=D(this),t=e.index(),t=a.eq(t);e.addClass("ta-forms-tabbed-active").siblings().removeClass("ta-forms-tabbed-active"),t.Ta_Forms_reload_script(),t.removeClass("hidden").siblings().addClass("hidden")})})},D.fn.Ta_Forms_field_section_tab=function(){return this.each(function(){var e=D(this),a=e.find(".ta-forms-section_tab-nav a"),r=e.find(".ta-forms-section_tab-content");r.eq(0).Ta_Forms_reload_script(),a.on("click",function(e){e.preventDefault();var e=D(this),t=e.index(),t=r.eq(t);a.removeClass("ta-forms-section_tab-active"),e.addClass("ta-forms-section_tab-active"),t.Ta_Forms_reload_script(),t.removeClass("hidden").siblings().addClass("hidden")})})},D.fn.Ta_Forms_field_typography=function(){return this.each(function(){var w=this,C=D(this),r=[],x=Ta_Forms_typography_json.webfonts,t=Ta_Forms_typography_json.googlestyles,z=Ta_Forms_typography_json.defaultstyles;w.sanitize_subset=function(e){return e=(e=e.replace("-ext"," Extended")).charAt(0).toUpperCase()+e.slice(1)},w.sanitize_style=function(e){return t[e]||e},w.load_google_font=function(e,t,a){e&&"object"==typeof WebFont&&(t=t?t.replace("normal",""):"",a=a?a.replace("normal",""):"",-1===r.indexOf(e=t||a?e+":"+t+a:e)&&WebFont.load({google:{families:[e]}}),r.push(e))},w.append_select_options=function(e,t,o,n,i){e.find("option").not(":first").remove();var s="";D.each(t,function(e,t){var a=t,r=i?o&&-1!==o.indexOf(t)?" selected":"":o&&o===t?" selected":"";"subset"===n?a=w.sanitize_subset(t):"style"===n&&(a=w.sanitize_style(t)),s+='<option value="'+t+'"'+r+">"+a+"</option>"}),e.append(s).trigger("ta-forms.change").trigger("chosen:updated")},w.init=function(){var n,i,s,l,d,c,f,m,u,h=[],e=C.find(".ta-forms--typography"),p=C.find(".ta-forms--type"),_=C.find(".ta-forms--block-font-style"),g=e.data("unit"),v=e.data("line-height-unit"),t=e.data("exclude")?e.data("exclude").split(","):[],b=(C.find(".ta-forms--chosen").length&&C.find("select").each(function(){var e=D(this),t=e.parent().find(".chosen-container");t.length&&t.remove(),e.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})}),C.find(".ta-forms--font-family")),r=b.val(),o=(b.find("option").not(":first-child").remove(),""),T=(D.each(x,function(a,e){t&&-1!==t.indexOf(a)||(o+='<optgroup label="'+e.label+'">',D.each(e.fonts,function(e,t){o+='<option value="'+(t="object"==typeof t?e:t)+'" data-type="'+a+'"'+(t===r?" selected":"")+">"+t+"</option>"}),o+="</optgroup>")}),b.append(o).trigger("chosen:updated"),C.find(".ta-forms--block-font-style")),y=(T.length&&(n=C.find(".ta-forms--font-style-select"),i=n.val()?n.val().replace(/normal/g,""):"",n.on("change ta-forms.change",function(e){var t=n.val(),a=(t=!t&&h&&-1===h.indexOf("normal")?h[0]:t)&&"italic"!==t&&"normal"===t?"normal":"",a=t&&"italic"!==t&&"normal"!==t?t.replace("italic",""):a,t=t&&"italic"===t.substr(-6)?"italic":"";C.find(".ta-forms--font-weight").val(a),C.find(".ta-forms--font-style").val(t)}),(s=C.find(".ta-forms--block-extra-styles")).length)&&(l=C.find(".ta-forms--extra-styles"),d=l.val()),C.find(".ta-forms--block-subset")),F=(y.length&&(c=C.find(".ta-forms--subset"),f=c.val(),m=c.data("multiple")||!1),C.find(".ta-forms--block-backup-font-family")),k=(b.on("change ta-forms.change",function(e){y.length&&y.addClass("hidden"),s.length&&s.addClass("hidden"),F.length&&F.addClass("hidden");var t,a,r=b.find(":selected"),o=r.val(),r=r.data("type");r&&o?("google"!==r&&"custom"!==r||!F.length||F.removeClass("hidden"),T.length&&(a=z,"google"===r&&x[r].fonts[o][0]?a=x[r].fonts[o][0]:"custom"===r&&x[r].fonts[o]&&(a=x[r].fonts[o]),t=-1!==(h=a).indexOf("normal")?"normal":a[0],t=i&&-1!==a.indexOf(i)?i:t,w.append_select_options(n,a,t,"style"),i=!1,T.removeClass("hidden"),"google"===r)&&s.length&&1<a.length&&(w.append_select_options(l,a,d,"style",!0),d=!1,s.removeClass("hidden")),"google"===r&&y.length&&x[r].fonts[o][1]&&(a=(t=x[r].fonts[o][1]).length<2&&"latin"!==t[0]?t[0]:"",o=f&&-1!==t.indexOf(f)?f:a,o=m&&f?f:o,w.append_select_options(c,t,o,"subset",m),f=!1,y.removeClass("hidden"))):(_.find(":input").val(""),y.length&&(c.find("option").not(":first-child").remove(),c.trigger("chosen:updated")),T.length&&(n.find("option").not(":first-child").remove(),n.trigger("chosen:updated"))),p.val(r)}).trigger("ta-forms.change"),C.find(".ta-forms--block-preview"));k.length&&(u=C.find(".ta-forms--preview"),C.on("change",O.helper.debounce(function(e){k.removeClass("hidden");var t=b.val(),a=C.find(".ta-forms--font-weight").val(),r=C.find(".ta-forms--font-style").val(),o=C.find(".ta-forms--font-size").val(),n=C.find(".ta-forms--font-variant").val(),i=C.find(".ta-forms--line-height").val(),s=C.find(".ta-forms--text-align").val(),l=C.find(".ta-forms--text-transform").val(),d=C.find(".ta-forms--text-decoration").val(),c=C.find(".ta-forms--color").val(),f=C.find(".ta-forms--word-spacing").val(),m=C.find(".ta-forms--letter-spacing").val(),h=C.find(".ta-forms--custom-style").val(),p=("google"===C.find(".ta-forms--type").val()&&w.load_google_font(t,a,r),{});t&&(p.fontFamily=t),a&&(p.fontWeight=a),r&&(p.fontStyle=r),n&&(p.fontVariant=n),o&&(p.fontSize=o+g),i&&(p.lineHeight=i+v),m&&(p.letterSpacing=m+g),f&&(p.wordSpacing=f+g),s&&(p.textAlign=s),l&&(p.textTransform=l),d&&(p.textDecoration=d),c&&(p.color=c),u.removeAttr("style"),h&&u.attr("style",h),u.css(p)},100)),k.on("click",function(){u.toggleClass("ta-forms--black-background");var e=k.find(".ta-forms--toggle");e.hasClass("fa-toggle-off")?e.removeClass("fa-toggle-off").addClass("fa-toggle-on"):e.removeClass("fa-toggle-on").addClass("fa-toggle-off")}),k.hasClass("hidden")||C.trigger("change"))},w.init()})},D.fn.Ta_Forms_field_upload=function(){return this.each(function(){var t,e=D(this),a=e.find("input"),r=e.find(".ta-forms--button"),o=e.find(".ta-forms--remove"),n=e.find(".ta-forms--preview"),i=e.find(".ta-forms--src"),s=r.data("library")&&r.data("library").split(",")||"";r.on("click",function(e){e.preventDefault(),void 0!==v.wp&&v.wp.media&&v.wp.media.gallery&&(t||(t=v.wp.media({library:{type:s}})).on("select",function(){var e=t.state().get("selection").first().attributes;s.length&&-1===s.indexOf(e.subtype)&&-1===s.indexOf(e.type)||a.val(e.url).trigger("change")}),t.open())}),o.on("click",function(e){e.preventDefault(),a.val("").trigger("change")}),a.on("change",function(e){var t=a.val();t?o.removeClass("hidden"):o.addClass("hidden"),n.length&&(-1!==D.inArray(t.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(n.removeClass("hidden"),i.attr("src",t)):n.addClass("hidden"))})})},D.fn.Ta_Forms_field_wp_editor=function(){return this.each(function(){var e,t,a,r,o,n,i,s;void 0!==v.wp.editor&&void 0!==v.tinyMCEPreInit&&void 0!==v.tinyMCEPreInit.mceInit.Ta_Forms_wp_editor&&(t=(e=D(this)).find(".ta-forms-wp-editor"),a=e.find("textarea"),(e.find(".wp-editor-wrap").length||e.find(".mce-container").length)&&(t.empty(),t.append(a),a.css("display","")),r=O.helper.uid("ta-forms-editor-"),a.attr("id",r),o={tinymce:v.tinyMCEPreInit.mceInit.Ta_Forms_wp_editor,quicktags:v.tinyMCEPreInit.qtInit.Ta_Forms_wp_editor},n=t.data("editor-settings"),(s=wp.oldEditor||wp.editor)&&s.hasOwnProperty("autop")&&(wp.editor.autop=s.autop,wp.editor.removep=s.removep,wp.editor.initialize=s.initialize),o.tinymce=D.extend({},o.tinymce,{selector:"#"+r,setup:function(t){t.on("change keyup",function(){var e=n.wpautop?t.getContent():wp.editor.removep(t.getContent());a.val(e).trigger("change")})}}),!1===n.tinymce&&(o.tinymce=!1,t.addClass("ta-forms-no-tinymce")),!1===n.quicktags&&(o.quicktags=!1,t.addClass("ta-forms-no-quicktags")),i=setInterval(function(){e.is(":visible")&&(v.wp.editor.initialize(r,o),clearInterval(i))}),n.media_buttons)&&v.Ta_Forms_media_buttons&&((s=t.find(".wp-media-buttons")).length?s.find(".ta-forms-shortcode-button").data("editor-id",r):((s=D(v.Ta_Forms_media_buttons)).find(".ta-forms-shortcode-button").data("editor-id",r),t.prepend(s)))})},D.fn.Ta_Forms_confirm=function(){return this.each(function(){D(this).on("click",function(e){var t=D(this).data("confirm")||v.Ta_Forms_vars.i18n.confirm;if(!confirm(t))return e.preventDefault(),!1;O.vars.is_confirm=!0,O.vars.form_modified=!1})})},D.fn.serializeObject=function(){var r={};return D.each(this.serializeArray(),function(e,t){var a=t.name,t=t.value;r[a]=r[a]===T?t:D.isArray(r[a])?r[a].concat(t):[r[a],t]}),r},D.fn.Ta_Forms_save=function(){return this.each(function(){var r,o=D(this),n=D(".ta-forms-save"),i=D(".ta-forms-options"),s=!1;o.on("click",function(e){var t,a;s||(t=o.data("save"),a=o.val(),n.attr("value",t),o.hasClass("ta-forms-save-ajax")?(e.preventDefault(),i.addClass("ta-forms-saving"),n.prop("disabled",!0),v.wp.ajax.post("Ta_Forms_"+i.data("unique")+"_ajax_save",{data:D("#ta-forms-form").serializeJSONTaForms()}).done(function(e){D(".ta-forms-error").remove(),Object.keys(e.errors).length&&(o='<i class="ta-forms-label-error ta-forms-error">!</i>',D.each(e.errors,function(e,t){var e=D('[data-depend-id="'+e+'"]'),a=D('a[href="#tab='+e.closest(".ta-forms-section").data("section-id")+'"]'),r=a.closest(".ta-forms-tab-item");e.closest(".ta-forms-fieldset").append('<p class="ta-forms-error ta-forms-error-text">'+t+"</p>"),a.find(".ta-forms-error").length||a.append(o),r.find(".ta-forms-arrow .ta-forms-error").length||r.find(".ta-forms-arrow").append(o)})),i.removeClass("ta-forms-saving"),n.prop("disabled",!1).attr("value",a),s=!1,O.vars.form_modified=!1,O.vars.$form_warning.hide(),clearTimeout(r);var o,t=D(".ta-forms-form-success");t.empty().append(e.notice).fadeIn("fast",function(){r=setTimeout(function(){t.fadeOut("fast")},1e3)})}).fail(function(e){alert(e.error)})):O.vars.form_modified=!1),s=!0})})},D.fn.Ta_Forms_options=function(){return this.each(function(){var e=D(this),t=e.find(".ta-forms-content"),a=e.find(".ta-forms-form-success"),r=e.find(".ta-forms-form-warning"),o=e.find(".ta-forms-header .ta-forms-save");(O.vars.$form_warning=r).length&&(v.onbeforeunload=function(){return!!O.vars.form_modified||T},t.on("change keypress",":input",function(){O.vars.form_modified||(a.hide(),r.fadeIn("fast"),O.vars.form_modified=!0)})),a.hasClass("ta-forms-form-show")&&setTimeout(function(){a.fadeOut("fast")},1e3),D(b).keydown(function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return o.trigger("click"),e.preventDefault(),!1})})},D.fn.Ta_Forms_taxonomy=function(){return this.each(function(){var e,t,a=D(this),r=a.parents("form");"addtag"===r.attr("id")&&(e=r.find("#submit"),t=a.find(".ta-forms-field").Ta_Forms_clone(),e.on("click",function(){r.find(".form-required").hasClass("form-invalid")||(a.data("inited",!1),a.empty(),a.html(t),t=t.Ta_Forms_clone(),a.Ta_Forms_reload_script())}))})},D.fn.Ta_Forms_shortcode=function(){var g=this;return g.shortcode_parse=function(e,a){var r="";return D.each(e,function(e,t){r+="["+(a=a||e),D.each(t,function(e,t){"content"===e?r=(r+="]")+t+"[/"+a:r+=g.shortcode_tags(e,t)}),r+="]"}),r},g.shortcode_tags=function(e,t){var a="";return""!==t&&("object"!=typeof t||D.isArray(t)?a+=" "+e+'="'+t.toString()+'"':D.each(t,function(e,t){""!==(t="background-image"===e?t.url||"":t)&&(a+=" "+e+'="'+t.toString()+'"')})),a},g.insertAtChars=function(e,t){e=void 0!==e[0].name?e[0]:e;return e.value.length&&void 0!==e.selectionStart?(e.focus(),e.value.substring(0,e.selectionStart)+t+e.value.substring(e.selectionEnd,e.value.length)):(e.focus(),t)},g.send_to_editor=function(e,t){var a;(a="undefined"!=typeof tinymce?tinymce.get(t):a)&&!a.isHidden()?a.execCommand("mceInsertContent",!1,e):(a=D("#"+t)).val(g.insertAtChars(a,e)).trigger("change")},this.each(function(){var o,n,i,a,s,l,d,r,c,f=D(this),m=f.find(".ta-forms-modal-load"),h=(f.find(".ta-forms-modal-content"),f.find(".ta-forms-modal-insert")),p=f.find(".ta-forms-modal-loading"),t=f.find("select"),u=f.data("modal-id"),_=f.data("nonce");D(b).on("click",'.ta-forms-shortcode-button[data-modal-id="'+u+'"]',function(e){e.preventDefault(),c=D(this),o=c.data("editor-id")||!1,n=c.data("target-id")||!1,i=c.data("gutenberg-id")||!1,f.removeClass("hidden"),f.hasClass("ta-forms-shortcode-single")&&s===T&&t.trigger("change")}),t.on("change",function(){var e=D(this),t=e.find(":selected");a=e.val(),s=t.data("shortcode"),l=t.data("view")||"normal",d=t.data("group")||s,m.empty(),a?(p.show(),v.wp.ajax.post("ta-forms-get-shortcode-"+u,{shortcode_key:a,nonce:_}).done(function(e){p.hide();e=D(e.content).appendTo(m);h.parent().removeClass("hidden"),r=e.find(".ta-forms--repeat-shortcode").Ta_Forms_clone(),e.Ta_Forms_reload_script(),e.find(".ta-forms-fields").Ta_Forms_reload_script()})):h.parent().addClass("hidden")}),h.on("click",function(e){if(e.preventDefault(),!h.prop("disabled")&&!h.attr("disabled")){var a="",t=f.find(".ta-forms-field:not(.ta-forms-depend-on)").find(":input:not(.ignore)").serializeObjectTaForms();switch(l){case"contents":var r=s?t[s]:t;D.each(r,function(e,t){e=s||e;a+="["+e+"]"+t+"[/"+e+"]"});break;case"group":a+="["+s,D.each(t[s],function(e,t){a+=g.shortcode_tags(e,t)}),a=(a=(a+="]")+g.shortcode_parse(t[d],d))+("[/"+s+"]");break;case"repeater":a+=g.shortcode_parse(t[d],d);break;default:a+=g.shortcode_parse(t)}a=""===a?"["+s+"]":a,i?(e=v.Ta_Forms_gutenberg_props.attributes.hasOwnProperty("shortcode")?v.Ta_Forms_gutenberg_props.attributes.shortcode:"",v.Ta_Forms_gutenberg_props.setAttributes({shortcode:e+a})):o?g.send_to_editor(a,o):(e=n?D(n):c.parent().find("textarea")).val(g.insertAtChars(e,a)).trigger("change"),f.addClass("hidden")}}),f.on("click",".ta-forms--repeat-button",function(e){e.preventDefault();var e=f.find(".ta-forms--repeatable"),t=r.Ta_Forms_clone(),a=t.find(".ta-forms-repeat-remove");t.appendTo(e);t.find(".ta-forms-fields").Ta_Forms_reload_script(),O.helper.name_nested_replace(f.find(".ta-forms--repeat-shortcode"),d),a.on("click",function(){t.remove(),O.helper.name_nested_replace(f.find(".ta-forms--repeat-shortcode"),d)})}),f.on("click",".ta-forms-modal-close, .ta-forms-modal-overlay",function(){f.addClass("hidden")})})},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;0<=t;t--)e="0"+e;return"#"+e}),O.funcs.parse_color=function(e){var e=e.replace(/\s+/g,""),t=-1!==e.indexOf("rgba")?parseFloat(100*e.replace(/^.*,(.+)\)/,"$1")):100;return{value:e,transparent:t,rgba:t<100}},D.fn.Ta_Forms_color=function(){return this.each(function(){var i,s=D(this),a=O.funcs.parse_color(s.val()),e=!v.Ta_Forms_vars.color_palette.length||v.Ta_Forms_vars.color_palette;s.hasClass("wp-color-picker")&&s.closest(".wp-picker-container").after(s).remove(),s.wpColorPicker({palettes:e,change:function(e,t){t=t.color.toString();i.removeClass("ta-forms--transparent-active"),i.find(".ta-forms--transparent-offset").css("background-color",t),s.val(t).trigger("change")},create:function(){i=s.closest(".wp-picker-container");var r=s.data("a8cIris"),e=D('<div class="ta-forms--transparent-wrap"><div class="ta-forms--transparent-slider"></div><div class="ta-forms--transparent-offset"></div><div class="ta-forms--transparent-text"></div><div class="ta-forms--transparent-button">transparent <i class="icofont-toggle-off"></i></div></div>').appendTo(i.find(".wp-picker-holder")),o=e.find(".ta-forms--transparent-slider"),n=e.find(".ta-forms--transparent-text"),t=e.find(".ta-forms--transparent-offset"),e=e.find(".ta-forms--transparent-button");"transparent"===s.val()&&i.addClass("ta-forms--transparent-active"),e.on("click",function(){"transparent"!==s.val()?(s.val("transparent").trigger("change").removeClass("iris-error"),i.addClass("ta-forms--transparent-active")):(s.val(r._color.toString()).trigger("change"),i.removeClass("ta-forms--transparent-active"))}),o.slider({value:a.transparent,step:1,min:0,max:100,slide:function(e,t){t=parseFloat(t.value/100);r._color._alpha=t,s.wpColorPicker("color",r._color.toString()),n.text(1===t||0===t?"":t)},create:function(){var e=parseFloat(a.transparent/100);n.text(e<1?e:""),t.css("background-color",a.value),i.on("click",".wp-picker-clear",function(){r._color._alpha=1,n.text(""),o.slider("option","value",100),i.removeClass("ta-forms--transparent-active"),s.trigger("change")}),i.on("click",".wp-picker-default",function(){var e=O.funcs.parse_color(s.data("default-color")),t=parseFloat(e.transparent/100),a=t<1?t:"";r._color._alpha=t,n.text(a),o.slider("option","value",e.transparent),"transparent"===e.value&&(s.removeClass("iris-error"),i.addClass("ta-forms--transparent-active"))})}})}})})},D.fn.Ta_Forms_chosen=function(){return this.each(function(){var a,n,i=D(this),e=i.parent().find(".chosen-container"),t=i.hasClass("ta-forms-chosen-sortable")||!1,r=i.hasClass("ta-forms-chosen-ajax")||!1,o=i.attr("multiple")||!1,s=D.extend({allow_single_deselect:!0,disable_search_threshold:10,width:o?"100%":"auto",no_results_text:v.Ta_Forms_vars.i18n.no_results_text},i.data("chosen-settings"));e.length&&e.remove(),r?(e=D.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:v.Ta_Forms_vars.i18n.typing_text,searching_text:v.Ta_Forms_vars.i18n.searching_text,no_results_text:v.Ta_Forms_vars.i18n.no_results_text},i.data("chosen-settings")),i.TaFormsAjaxChosen(e)):i.chosen(s),o&&(r=(a=i.parent().find(".ta-forms-hide-select")).val()||[],i.on("change",function(e,t){t&&t.selected?a.append('<option value="'+t.selected+'" selected="selected">'+t.selected+"</option>"):t&&t.deselected&&a.find('option[value="'+t.deselected+'"]').remove(),v.wp.customize!==T&&0===a.children().length&&a.data("customize-setting-link")&&v.wp.customize.control(a.data("customize-setting-link")).setting.set(""),a.trigger("change")}),i.TaFormsChosenOrder(r,!0)),t&&((n=i.parent().find(".chosen-container").find(".chosen-choices")).bind("mousedown",function(e){D(e.target).is("span")&&e.stopPropagation()}),n.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,t){t.placeholder.width(t.item.innerWidth()),t.placeholder.height(t.item.innerHeight())},update:function(e,t){var r="",o=i.data("chosen"),a=i.parent().find(".ta-forms-hide-select");n.find(".search-choice-close").each(function(){var a=D(this).data("option-array-index");D.each(o.results_data,function(e,t){t.array_index===a&&(r+='<option value="'+t.value+'" selected>'+t.value+"</option>")})}),a.children().remove(),a.append(r),a.trigger("change")}}))})},D.fn.Ta_Forms_checkbox=function(){return this.each(function(){var e=D(this),t=e.find(".ta-forms--input"),a=e.find(".ta-forms--checkbox");a.on("click",function(){t.val(Number(a.prop("checked"))).trigger("change")})})},D.fn.Ta_Forms_checkbox_all=function(){return this.each(function(){var a=D(this);a.on("click",function(){var e=a.closest(".ta-forms-field-checkbox").find(":input"),t=!1;e.each(function(){D(this).prop("checked")||(t=!0)}),t?(e.prop("checked","checked"),e.attr("checked","checked")):(e.prop("checked",""),e.removeAttr("checked")),e.first().trigger("change")})})},D.fn.Ta_Forms_siblings=function(){return this.each(function(){var t=D(this),e=t.find(".ta-forms--sibling"),a=t.data("multiple")||!1;e.on("click",function(){var e=D(this);a?(e.hasClass("ta-forms--active")?(e.removeClass("ta-forms--active"),e.find("input").prop("checked",!1)):(e.addClass("ta-forms--active"),e.find("input").prop("checked",!0))).trigger("change"):(t.find("input").prop("checked",!1),e.find("input").prop("checked",!0).trigger("change"),e.addClass("ta-forms--active").siblings().removeClass("ta-forms--active"))})})},D.fn.Ta_Forms_help=function(){return this.each(function(){var t,a,r=D(this);r.on({mouseenter:function(){t=D('<div class="ta-forms-tooltip"></div>').html(r.find(".ta-forms-help-text").html()).appendTo("body"),a=O.vars.is_rtl?r.offset().left-t.outerWidth():r.offset().left+32;var e=r.offset().top-(t.outerHeight()/2-6);0<r.find(".ta-forms-tooltip").length&&(e=r.offset().top+46,a=r.offset().left-249),D(t).addClass("ta-forms-tooltip-hover-effect"),t.css({top:e,left:a,textAlign:"left"})},mouseleave:function(){t.is(":hover")||(D(this).removeClass("ta-forms-tooltip-hover-effect"),t.addClass("ta-forms-fade-out"),t.on("transitionend",function(){t.remove()}))}}),D("body").on("mouseleave",".ta-forms-tooltip",function(){t!==T&&(D(this).removeClass("ta-forms-tooltip-hover-effect"),t.addClass("ta-forms-fade-out"),t.on("transitionend",function(){t.remove()}))})})},D.fn.Ta_Forms_customizer_refresh=function(){return this.each(function(){var e=D(this),t=e.closest(".ta-forms-customize-complex");if(t.length){var a=t.data("unique-id");if(a===T)return;var r=t.find(":input"),t=t.data("option-id"),r=r.serializeObjectTaForms(),r=!D.isEmptyObject(r)&&r[a]&&r[a][t]?r[a][t]:"",a=v.wp.customize.control(a+"["+t+"]");a.setting._value=null,a.setting.set(r)}else e.find(":input").first().trigger("change");D(b).trigger("ta-forms-customizer-refresh",e)})},D.fn.Ta_Forms_customizer_listen=function(e){var o=D.extend({closest:!1},e);return this.each(function(){var t,e,a,r;v.wp.customize!==T&&(e=(t=o.closest?D(this).closest(".ta-forms-customize-complex"):D(this)).find(":input"),a=t.data("unique-id"),r=t.data("option-id"),a!==T)&&e.on("change keyup ta-forms.change",function(){var e=t.find(":input").serializeObjectTaForms(),e=!D.isEmptyObject(e)&&e[a]&&e[a][r]?e[a][r]:"";v.wp.customize.control(a+"["+r+"]").setting.set(e)})})},D(b).on("expanded",".control-section",function(){var e,t,a=D(this);a.hasClass("open")&&!a.data("inited")&&(e=a.find(".ta-forms-customize-field"),t=a.find(".ta-forms-customize-complex"),e.length&&(a.Ta_Forms_dependency(),e.Ta_Forms_reload_script({dependency:!1}),t.Ta_Forms_customizer_listen()),a.data("inited",!0))}),O.vars.$window.on("resize ta-forms.resize",O.helper.debounce(function(e){(-1<navigator.userAgent.indexOf("AppleWebKit/")?O.vars.$window.width():v.innerWidth)<=782&&!O.vars.onloaded&&(D(".ta-forms-section").Ta_Forms_reload_script(),O.vars.onloaded=!0)},200)).trigger("ta-forms.resize"),D.fn.Ta_Forms_widgets=function(){return this.each(function(){D(b).on("widget-added widget-updated",function(e,t){t=t.find(".ta-forms-fields");t.length&&t.Ta_Forms_reload_script()}),D(b).on("click",".widget-top",function(e){var t=D(this).parent().find(".ta-forms-fields");t.length&&t.Ta_Forms_reload_script()}),D(".widgets-sortables, .control-section-sidebar").on("sortstop",function(e,t){t.item.find(".ta-forms-fields").Ta_Forms_reload_script_retry()})})},D.fn.Ta_Forms_nav_menu=function(){return this.each(function(){var e=D(this);e.on("click","a.item-edit",function(){D(this).closest("li.menu-item").find(".ta-forms-fields").Ta_Forms_reload_script()}),e.on("sortstop",function(e,t){t.item.find(".ta-forms-fields").Ta_Forms_reload_script_retry()})})},D.fn.Ta_Forms_reload_script_retry=function(){return this.each(function(){var e=D(this);e.data("inited")&&e.children(".ta-forms-field-wp_editor").Ta_Forms_field_wp_editor()})},D.fn.Ta_Forms_reload_script=function(e){var t=D.extend({dependency:!0},e);return this.each(function(){var e=D(this);e.data("inited")||(e.children(".ta-forms-field-accordion").Ta_Forms_field_accordion(),e.children(".ta-forms-field-backup").Ta_Forms_field_backup(),e.children(".ta-forms-field-background").Ta_Forms_field_background(),e.children(".ta-forms-field-code_editor").Ta_Forms_field_code_editor(),e.children(".ta-forms-field-date").Ta_Forms_field_date(),e.children(".ta-forms-field-datetime").Ta_Forms_field_datetime(),e.children(".ta-forms-field-fieldset").Ta_Forms_field_fieldset(),e.children(".ta-forms-field-gallery").Ta_Forms_field_gallery(),e.children(".ta-forms-field-group").Ta_Forms_field_group(),e.children(".ta-forms-field-icon").Ta_Forms_field_icon(),e.children(".ta-forms-field-link").Ta_Forms_field_link(),e.children(".ta-forms-field-media").Ta_Forms_field_media(),e.children(".ta-forms-field-map").Ta_Forms_field_map(),e.children(".ta-forms-field-repeater").Ta_Forms_field_repeater(),e.children(".ta-forms-field-slider").Ta_Forms_field_slider(),e.children(".ta-forms-field-sortable").Ta_Forms_field_sortable(),e.children(".ta-forms-field-sorter").Ta_Forms_field_sorter(),e.children(".ta-forms-field-spinner").Ta_Forms_field_spinner(),e.children(".ta-forms-field-switcher").Ta_Forms_field_switcher(),e.children(".ta-forms-field-section_tab").Ta_Forms_field_section_tab(),e.children(".ta-forms-field-tabbed").Ta_Forms_field_tabbed(),e.children(".ta-forms-field-typography").Ta_Forms_field_typography(),e.children(".ta-forms-field-upload").Ta_Forms_field_upload(),e.children(".ta-forms-field-wp_editor").Ta_Forms_field_wp_editor(),e.children(".ta-forms-field-border").find(".ta-forms-color").Ta_Forms_color(),e.children(".ta-forms-field-background").find(".ta-forms-color").Ta_Forms_color(),e.children(".ta-forms-field-color").find(".ta-forms-color").Ta_Forms_color(),e.children(".ta-forms-field-color_group").find(".ta-forms-color").Ta_Forms_color(),e.children(".ta-forms-field-link_color").find(".ta-forms-color").Ta_Forms_color(),e.children(".ta-forms-field-typography").find(".ta-forms-color").Ta_Forms_color(),e.children(".ta-forms-field-select").find(".ta-forms-chosen").Ta_Forms_chosen(),e.children(".ta-forms-field-checkbox").find(".ta-forms-checkbox").Ta_Forms_checkbox(),e.children(".ta-forms-field-checkbox").find(".ta-forms-checkbox-all").Ta_Forms_checkbox_all(),e.children(".ta-forms-field-button_set").find(".ta-forms-siblings").Ta_Forms_siblings(),e.children(".ta-forms-field-image_select").find(".ta-forms-siblings").Ta_Forms_siblings(),e.children(".ta-forms-field-layout_preset").find(".ta-forms-siblings").Ta_Forms_siblings(),e.children(".ta-forms-field-palette").find(".ta-forms-siblings").Ta_Forms_siblings(),e.children(".ta-forms-field").find(".ta-forms-help").Ta_Forms_help(),t.dependency&&e.Ta_Forms_dependency(),e.data("inited",!0),D(b).trigger("ta-forms-reload-script",e))})},D(b).ready(function(){D(".ta-forms-save").Ta_Forms_save(),D(".ta-forms-options").Ta_Forms_options(),D(".ta-forms-sticky-header").Ta_Forms_sticky(),D(".ta-forms-nav-options").Ta_Forms_nav_options(),D(".ta-forms-nav-metabox").Ta_Forms_nav_metabox(),D(".ta-forms-taxonomy").Ta_Forms_taxonomy(),D(".ta-forms-page-templates").Ta_Forms_page_templates(),D(".ta-forms-post-formats").Ta_Forms_post_formats(),D(".ta-forms-shortcode").Ta_Forms_shortcode(),D(".ta-forms-search").Ta_Forms_search(),D(".ta-forms-confirm").Ta_Forms_confirm(),D(".ta-forms-expand-all").Ta_Forms_expand_all(),D(".ta-forms-onload").Ta_Forms_reload_script(),D("#widgets-editor").Ta_Forms_widgets(),D("#widgets-right").Ta_Forms_widgets(),D("#menu-to-edit").Ta_Forms_nav_menu(),D(b).on("click","#shortcode_copy",function(e){e.preventDefault(),D(this).siblings("#shortcode").select(),b.execCommand("copy"),D(".shortcode_after_copy").animate({opacity:1,bottom:25},300),setTimeout(function(){jQuery(".shortcode_after_copy").animate({opacity:0},200),jQuery(".shortcode_after_copy").animate({bottom:0},0)},2e3)})}),D.fn.getFieldInfo=function(){var r=["All Fields: {form_fields}"];return this.find(".ta-forms-cloneable-item").each(function(e){var t=D(this),a=t.find(".field_select_items_select select").val();["recaptcha","checkbox","submit"].includes(a)||(t=t.find('.field_select_label input[type="text"]').val()||t.find('input[type="text"]:visible').val()||"Field Label",a&&r.push(t+`: {${a}_${e+1}}`))}),r.push("Global Vars: {siteTitle}, {siteEmail}, {currentURL}, {currentTitle}, {siteURL}, {ip}, {date}","{PRODUCT_START} WooCommerce Vars: {productName}, {productSlug}, {productSku}, {productPrice}, {productRegularPrice}, {productSalePrice}, {productStockStatus} {PRODUCT_END}","<b>Conditional Blocks:</b> {PRODUCT_START} ... {PRODUCT_END}, {NOT_PRODUCT_START} ... {NOT_PRODUCT_END}, {LOGGEDIN_START} ... {LOGGEDIN_END}, {NOT_LOGGEDIN_START} ... {NOT_LOGGEDIN_END}"),r.join("<br>")},D(b).ready(function(){function e(){var e=D(".ta-forms-form-fields-wrapper"),t=D(".message_variables");t.length&&e.length&&(e=e.find(".ta-forms-cloneable-wrapper").getFieldInfo(),t.html(e))}setTimeout(e,100),D(b).on("change",".field_select_items_select select",function(){setTimeout(e,100)}),D(b).on("keyup input change",'.ta-forms-cloneable-item input[type="text"]',function(){e()}),D(".ta-forms-cloneable-wrapper").on("ta-forms.field-info-update",function(){e()})}),D(b).on("click",".wrapper_class_form",function(){D(".ta-forms--active.wrapper_class_form").length&&D('.ta_forms_type_of_whatsapp input[value="number"]').prop("checked",!0).trigger("change")}),D(b).on("keyup change","#ta-forms-form",function(e){e.preventDefault(),D(this).find(".ta-forms-save.ta-forms-save-ajax").css({"background-color":"#1a74e4","pointer-events":"initial"}).val("Save Settings")}),D(b).on("click change","#ta-forms-form .ta-forms-cloneable-helper, #ta-forms-form .ta-forms-cloneable-helper .sp_wgs-icon-clone, #ta-forms-form .ta-forms-cloneable-helper .sp_wgs-icon-drag-and-drop, .ta-forms-cloneable-add",function(e){e.preventDefault(),D("#ta-forms-form").find(".ta-forms-save.ta-forms-save-ajax").css({"background-color":"#1a74e4","pointer-events":"initial"}).val("Save Settings")}),setTimeout(()=>{0==D("#ta-forms-section-assign_layout .ta-forms-cloneable-wrapper .ta-forms-cloneable-item").length&&0<D("#ta-forms-section-assign_layout .ta-forms-cloneable-add").length&&D("#ta-forms-section-assign_layout .ta-forms-cloneable-add").trigger("click")},500),D(".ta-forms-save").on("click",function(e){e.preventDefault(),D(this).css({"background-color":"#C5C5C6","pointer-events":"none","padding-left":"38px"}).val("Changes Saved")}),D(".ta_forms_number").each(function(){var e=D(this),t=e.find("input"),a=e.find(".ta-forms-desc-text");function r(e){var t,e=e.replace(/\D/g,"");3<=e.length?(t=encodeURIComponent("Hello! I'm testing the Chat Help plugin"),a.html('Test: <a target="_blank" rel="noopener noreferrer" href="'+("https://wa.me/send?phone="+e+"&text="+t)+'">'+e+"</a>")):a.text("Phone number in international format. Only numbers.")}r(t.val()),t.on("input",function(){r(D(this).val())})}),D(".ta_forms_group").each(function(){var e=D(this),t=e.find("input"),a=e.find(".ta-forms-desc-text");function r(e){""!==e.trim()?a.html('Test: <a target="_blank" rel="noopener noreferrer" href="'+e+'">'+e+"</a>"):a.text("WhatsApp group link.")}r(t.val()),t.on("input",function(){r(D(this).val())})}),D(".ta_forms_input").on("click",function(e){e.preventDefault(),D(this).select(),b.execCommand("copy"),D(".ta-forms-after-copy-text").animate({opacity:1,bottom:25},300),setTimeout(function(){jQuery(".ta-forms-after-copy-text").animate({opacity:0},200),jQuery(".ta-forms-after-copy-text").animate({bottom:0},0)},2e3)})})(jQuery,window,document);